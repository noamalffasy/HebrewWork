{"version":3,"file":"static/webpack/static/development/pages/index.js.f61f0813215465402168.hot-update.js","sources":["webpack:///./components/Foreground.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Component } from \"react\";\n\nimport { connect } from \"react-redux\";\n\nimport { StoreInterface } from \"utils/types\";\n\ninterface Props {\n  gameWidth: number;\n  currentEnemy: {\n    name: string;\n    srcName: string;\n  };\n  state: string;\n}\n\ninterface State {\n  isEnemyHidden: boolean;\n}\n\nclass Foreground extends Component<Props, State> {\n  state = {\n    isEnemyHidden: false\n  };\n\n  componentWillReceiveProps(nextProps: Props) {\n    const { state } = nextProps;\n\n    if (state === \"changeEnemy\" && state !== this.props.state) {\n      this.setState(\n        prevState => ({\n          ...prevState,\n          isEnemyHidden: true\n        }),\n        () => {\n          setTimeout(() => {\n            this.setState(prevState => ({\n              ...prevState,\n              isEnemyHidden: false\n            }));\n          }, 1000);\n        }\n      );\n    }\n  }\n\n  render() {\n    const numGrassBlocks = Math.ceil(this.props.gameWidth / 70);\n\n    return (\n      <div className=\"Foreground\">\n        <img\n          className=\"opponent player\"\n          src=\"/static/img/character/body.png\"\n          alt=\"שחקן\"\n        />\n        <img\n          className={`opponent enemy ${this.state.isEnemyHidden ? \"hide\" : \"\"}`}\n          src={`/static/img/${this.props.currentEnemy.srcName}/body.png`}\n          alt=\"אויב\"\n        />\n        <div className=\"grass\">\n          {[...Array(numGrassBlocks)].map((_, i) => {\n            return <img src=\"/static/img/grass.png\" alt=\"אדמה\" key={i} />;\n          })}\n        </div>\n        <style jsx>{`\n          .Foreground {\n            position: absolute;\n            width: 100%;\n            left: 0;\n            bottom: 0;\n          }\n\n          .Foreground img.opponent {\n            width: 10rem;\n            height: 10rem;\n            margin: 0 1rem -0.2rem;\n            opacity: 1;\n            transition: all 0.3s;\n          }\n\n          .Foreground img.opponent.enemy {\n            margin: 0 1rem -0.2rem;\n            float: right;\n          }\n\n          .Foreground img.opponent.hide {\n            opacity: 0;\n          }\n\n          .Foreground .grass {\n            width: 100%;\n          }\n\n          .Foreground .grass img {\n            width: calc(100% / ${numGrassBlocks});\n          }\n        `}</style>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state: StoreInterface) {\n  const { state: gameState } = state;\n\n  return { state: gameState };\n}\n\nexport default connect(mapStateToProps)(Foreground);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AAgBA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;;;;;;AAGA;AAAA;AACA;AADA;AACA;AAEA;AACA;AACA;AAEA;AAFA;AAAA;AAKA;AACA;AAAA;AAEA;AAFA;AAAA;AAIA;AACA;AAEA;AACA;;;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAmDA;;;;AAjFA;AACA;AAmFA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;;;;A","sourceRoot":""}